pragma solidity ^0.4.11;

contract CloudCrowdFund {
    uint public historyTotal;
    uint public currentTotal;
    uint public minBet = 0.01;
    uint public unitBet = 0.01;
    uint public maxBet = 0.03;
    uint public betAmount = 3;
    uint public lotteryValue = unitBet * betAmount;
    uint public progress = 0;
    uint public contractBenifits = 0.02
    var public status = 'open';
    var public betStatus = 'active';
    address public owner;
   
    var[] lotteryTickets;
    mapping(address => uint) public betRecords;
    mapping(address => lotteryTickets) public votingPool;

    function CloudCrowdFund() {
        owner = msg.sender;
    }

    function Purchase() payable {
        lotteryCount = msg.value / unitBet
        // todo: check msg.value is valid
        
        var[] lottery;
        byte32 hash = sha3(123, msg.sender);
        lottery.push(hash);
        votingPool[msg.sender] = lottery;

        historyTotal += msg.value;
        currentTotal += msg.value;

        if (currentTotal == lotteryValue ){
            Lottery();
        }
    }

    function Lottery() {
        betStatus = 'inactive';
         
        var[] votingPoolArray;
        for (uint i = 0; i < votingPool.length ; i++){
            votingPoolArray += votingPool[i];
        }


             
        // reset;
        currentTotal = 0;
        betStatus = 'active';
        
    }

}

